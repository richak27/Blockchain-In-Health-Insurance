<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title> Login</title>
	
	
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script> 

	<link rel="stylesheet" type="text/css" href="css/header.css">
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
	<script src="vendor/tilt/tilt.jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/js-cookie@beta/dist/js.cookie.min.js"></script>

	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>

	<script src = "./node_modules/web3/dist/web3.min.js"></script>
	<script type="text/javascript" src = "connection.js"></script>

</head>

<style>
	headingtitle {
	  color: #111827;
	  font-size: 24px;
	  font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif		  
	}
</style>
<body>
    <!-- Header -->
		<header class="header1">
			<!-- Header desktop -->
			<div class="container-menu-header">
				<div class="wrap_header">
				</div>
			</div>

			<!-- Header Mobile -->
			<div class="wrap_header_mobile">
				<!-- Logo moblie -->
				<a href="index.php" class="logo-mobile">
					<img src="images/icons/logo.png" alt="IMG-LOGO">
				</a>

				<!-- Button show menu -->
				<div class="btn-show-menu">
					<!-- Header Icon mobile -->
					<div class="header-icons-mobile">
						<a href="#" class="header-wrapicon1 dis-block">
							<img src="images/icons/icon-header-01.png" class="header-icon1" alt="ICON">
						</a>
					</div>
				</div>
			</div>
			</div>
		</header>

		<section>
			<div class="limiter">
				<div class="container-login100">
					<div class="wrap-login100">
						<div class="login100-pic js-tilt" data-tilt>
							<img src="images/img-01.png" alt="IMG">
						</div>
						<div class="login100-form validate-form">
						<span class="login100-form-title">
							<headingtitle><b>Login</b></headingtitle>
						</span>
						
						<div class="wrap-input100 validate-input">
							<input class="input100" id="userAddress" type="text" name="address"
								placeholder="Wallet Address" required>
							<span class="focus-input100"></span>
							<span class="symbol-input100">
								<i class="fa fa-user-circle-o" aria-hidden="true"></i>
							</span>
							<span class="error text-danger" id="empty_roll_number_field"></span>
						</div>

						<div class="wrap-input100 validate-input">
							<input class="input100" id="userPassword" type="password" name="password"
								placeholder="Password" required>
							<span class="focus-input100"></span>
							<span class="symbol-input100">
								<i class="fa fa-lock" aria-hidden="true"></i>
							</span>
							<span class="error text-danger" id="empty_roll_password_field"></span>
						</div>

						<div class="container-login100-form-btn">
							<button id="login" class="login100-form-btn"><!--</button> onclick="login()">-->
								Login
							</button>
						</div>

						<div class="text-center p-t-136">
						</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		

      <div class="example" style="border: none;"><a href="home.html"><button id="Register" type="button">Register</button></a></div>

      
    <script>
       
        console.log(insurance);  
    	$("#login").click(function(){
            
            console.log("login function called");
            var x = document.getElementById("userAddress").value;
            console.log(x);
            var y = document.getElementById("userPassword").value;
            console.log(y);
			if(insurance.CustomerLogin(x,y) == 1)
			{
					console.log("Valid customer");
					localStorage.setItem("userAddress", x);
					alert("Login Successful");
					window.location.href ="Customer.html";
			}
			else if(insurance.HospitalLogin(x,y) == 1)
			{
					console.log("Valid hospital");
					localStorage.setItem("userAddress", x);
					alert("Login Successful");
					window.location.href = "Hospital.html";
			}
			else if(insurance.InsuranceCompanyLogin(x,y) == 1)
			{
					console.log("Valid IC");
					localStorage.setItem("userAddress", x);
					alert("Login Successful");
					window.location.href = "InsuranceCompany.html";
			}
			//===========================================
			else if( insurance.CustomerLogin(x,y) == 2)
			{
				console.log("Invalid credential");
				alert("Invalid credentials");
			}
			else if( insurance.HospitalLogin(x,y) == 2)
			{
				console.log("Invalid credential");
				alert("Invalid credentials");
			}
			else if( insurance.InsuranceCompanyLogin(x,y) == 2)
			{
				console.log("Invalid credential");
				alert("Invalid credentials");
			}
			//===============================================
			
			
			else if(insurance.CustomerLogin(x,y) == 0)
			{
				console.log("Not registered, register first");
				alert("Not registered, register first");
			}
			
			else if( insurance.HospitalLogin(x,y) == 0)
			{
				console.log("Not registerd, register first");
				alert("Not registered, register first");
			}
			
			else if( insurance.InsuranceCompanyLogin(x,y) == 0)
			{
				console.log("Not registerd, register first");
				alert("Not registered, register first");
			}

        });

    </script>
</body>
</html>