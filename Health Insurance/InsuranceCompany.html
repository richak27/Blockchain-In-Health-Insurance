<!doctype html>
<html lang="en">
  <head>
  	<title>Insurance Company </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script> 
  
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/profile.css">

    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@beta/dist/js.cookie.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src = "./node_modules/web3/dist/web3.min.js"></script>
    <script type="text/javascript" src = "connection.js"></script>

  </head>
  <body>
		
    <style>
        #child1 {
position: absolute;
top: 350x;
left: 28px;
color: grey;
}

  .button {
  background-color: white; 
  border: none;
  color:  #111827;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
}


    </style>
    <div class="wrapper d-flex align-items-stretch">
        <nav id="sidebar">
            <div class="custom-menu">
                <button type="button" id="sidebarCollapse" class="btn btn-primary">
        </button>
    </div>
          <div class="img bg-wrap text-center py-4" style="background-color: #32373d;height:191.465px;border-bottom: 1px solid rgba(255, 255, 255, 0.05);">
              <div class="user-logo">
                  <div class="img" style="background-image: url(images/ic_profile.jpg); height: 110px; width: 110px;"></div>
                  <h3><p style="color: white; font-size: 11px;" id="addressid"></p></h3>
              </div>
          </div>
    <ul class="list-unstyled components mb-5">
      <li>
        <a onclick="ProfileClick()" href='#Profile'><span class="fa fa-home mr-3"></span> Profile</a>
      </li>
      <li >
        <a onclick="AddPolicyClick()" href='#AddPolicy'><span class="fa fa-cog mr-3"></span> Add Policy</a>
      </li>
      <li>
        <a onclick="VerifyCustomerClick()" href='#Customer Data'><span class="fa fa-cog mr-3"></span> Customer Data</a>
      </li>
      <li>
        <a onclick="VerifyClaimClick()" href='#VerifyClaim'><span class="fa fa-cog mr-3"></span> Verify Claim</a>
      </li>
      <li>
        <a onclick="VerifyHospitalClick()" href='#VerifyHospital'><span class="fa fa-cog mr-3"></span> Verify Hospital</a>
      </li>
      <li>
        <a onclick="DisburseClaimClick()" href='#DisburseClaim'><span class="fa fa-cog mr-3"></span> Disburse Claim</a>
      </li>
      <!-- <li>
        <a onclick="CustomerDataClick()" href='#CustomerData'><span class="fa fa-cog mr-3"></span> View Customer Data</a>
      </li> -->
      <li>
        <a id="logout"><span class="fa fa-sign-out mr-3"></span>Logout</a>
      </li>
    </ul>
    </nav>

    <div id="content" class="p-4 p-md-5 pt-5">
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">

    <div id="OuterDiv">
    <div id="DataDiv" class="centeralign">
      <form action="/" class="decor">
      <div class="form-left-decoration"></div>
      <div class="form-right-decoration"></div>
      <div class="form-inner">
        <h4><b>View Customer Data</b></h4>
          <input id="PatientAddress" type="text" placeholder="Patient Wallet Address">
          <button type="button" onclick="showDiv(document.getElementById('PatientAddress').value)">Submit</button>
      </div>
      </form>
  </div>

  <br>
  <br>


  </div>

  
  <div id="show_specific_data" style="display:none;" class="centeralign">

    <form action="/" class="decor">
        <div class="form-inner">
            <h4><b></b></h4>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Customer Address</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="customerAddressID2"></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Customer Name</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="nameid2"></p>
               </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Insurance Company Name:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="companyNameID2"></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Insurance Company Address:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="companyAddressID2"></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Policy ID:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="policyid2"></p>
                </div>
            </div>


            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label> <b>Claim ID:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="claimid2"></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b> Bill ID:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="billid2"></p>
                </div>
            </div>

            <div class="row">
              <div class="col-md-6" style="color:#111827">
                  <label><b> Hospital Address:</b></label>
              </div>
              <div class="col-md-6">
                  <p style="color:#111827;" id="HospAdd2"></p>
              </div>
          </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Claim Settled:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="claimSettledID2"></p>
                </div>
            </div>  
            
        </div>
    </form>
    </div>

  <div id="show_data" style="display:none;" class="centeralign">

    <form action="/" class="decor">
        <div class="form-inner">
            <h4><b></b></h4>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Customer Address</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="customerAddressID"></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Customer Name</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="nameid"></p>
               </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Insurance Company Name:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="companyNameID"></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Insurance Company Address:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="companyAddressID"></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Policy ID:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="policyid"></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Sum Insured by Policy:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="sumInsuredID"></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Premium Paid: </b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="premiumPaidOrNotID"></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Premium  Amount:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="paidAmountID"></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label> <b>Claim ID:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="claimid"></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b> Bill ID:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="billid1"></p>
                </div>
            </div>

            <div class="row">
              <div class="col-md-6" style="color:#111827">
                  <label><b> Hospital Address:</b></label>
              </div>
              <div class="col-md-6">
                  <p style="color:#111827;" id="HospAdd"></p>
              </div>
          </div>

            
            <div class="row">
              <div class="col-md-6" style="color:#111827">
                  <label><b> Bill Amount By Hospital:</b></label>
              </div>
              <div class="col-md-6">
                  <p style="color:#111827;" id="billHosp"></p>
              </div>
          </div>

          
          <div class="row">
            <div class="col-md-6" style="color:#111827">
                <label><b> Bill Description:</b></label>
            </div>
            <div class="col-md-6">
                <p style="color:#111827;" id="BillDesID"></p>
            </div>
        </div>

                                
            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label><b>Claim Settled:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="claimSettledID"></p>
                </div>
            </div>

                                
            <div class="row">
                <div class="col-md-6" style="color:#111827">
                    <label> <b>Settled Amount:</b></label>
                </div>
                <div class="col-md-6">
                    <p style="color:#111827;" id="AmountReimbursedID"></p>
                </div>
            </div>

            
        </div>
    </form>
    </div>


            <div id="AddPolicyDiv" class="centeralign">
            <form action="/" class="decor">
                <div class="form-left-decoration"></div>
                <div class="form-right-decoration"></div>
                <div class="form-inner">
                <h1>Add Policy</h1>
                    <input id="policyName" type="text"  placeholder="Policy Name">
                    <input id="policyID" type="text"  placeholder="Policy ID">
                    <input id="ICNo" type="text" placeholder="IC Registration No.">
                    <input id="ICWalletAddress" type="text" placeholder="IC Wallet Address">
                    <input id="premiumToPay" type="number" placeholder="Premium to pay">
                    <input id="sumInsuredByPolicy" type="text" placeholder="Sum insured by policy">
                    <button id="addNewPolicy" type="button">Add new Policy</button>
                </div>
                </form>
            </div>

            <div id="ClaimDisburseDiv" class="centeralign" >
                <form action="/" class="decor">
                <div class="form-left-decoration"></div>
                <div class="form-right-decoration"></div>
                <div class="form-inner">
                    <h1>Disburse Claim</h1>
                    <input id="claimIDDisburse" type="text" placeholder="claim ID">
                    <button id="claimDisbursement" type="button">Submit</button>
                </div>
                </form>
            </div>

            <div id="VerifyClaimDiv" class="centeralign">
                <form action="/" class="decor">
                <div class="form-left-decoration"></div>
                <div class="form-right-decoration"></div>
                <div class="form-inner">
                    <h1>Verify Claim</h1>
                    <input id="claimIDVerify" type="text" placeholder="claim ID">
                    <input id="settlementAmt" type="text" placeholder="settlement Amt">
                    <button id="verifyClaim" type="button">Submit</button>
                </div>
                </form>
            </div>

<div id="VerifyCustomerDiv" class="text-gray-400 bg-gray-900 body-font overflow-hidden">
  <h2 class="mb-4"><p style="color:white;">Customer Data</p></h2>

  <div class="container px-5 py-24 mx-auto">
    <div class="-my-8 divide-y-2 divide-gray-800">

      <div class="py-8 flex flex-wrap md:flex-nowrap" id="Customer0">
        <div class="md:flex-grow">
              <h2 class="text-2xl font-medium text-white title-font mb-2"><p style="color:white; font-size: 25px"; id="CusName0"></p></h2>
              <p style="color:white;" id="CusAdd0">
              <a class="text-indigo-400 inline-flex items-center mt-4">
                <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"></svg>
              </a>
          </div>
          <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col" >
          <span class="font-semibold title-font text-white"><button onclick="verifyCus0()" class="button" type="button">Verify</button>
          </span>
          <span class="font-semibold title-font text-white"><button onclick="showDiv(List_Customers[0])" class="button" type="button">View Data</button>
          </span>
          
               <script>
                        function verifyCus0()
                        {
                            console.log("verify called");
                            insurance.VerifyPatient(List_Customers[0], {from :userAddressForSession, gas:997770});
                            alert("Customer Verified");
                            console.log("Customer Verified");
                          }
              </script>
        </div>
      </div>

      <hr style="height:2px;border-width:0;color:gray;background-color:white">


      <div class="py-8 flex border-t-2 border-gray-800 flex-wrap md:flex-nowrap" id="Customer1">
        <div class="md:flex-grow">
          <h2 class="text-2xl font-medium text-white title-font mb-2"><p style="color:white; font-size: 25px"; id="CusName1"></p></h2>
          <p style="color:white;" id="CusAdd1">
          <a class="text-indigo-400 inline-flex items-center mt-4">
            <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"></svg>
          </a>
        </div>
      <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col">
      <span class="font-semibold title-font text-white"><button onclick="verifyCus1()" class="button" type="submit" href="/">Verify</button></span>
      <span class="font-semibold title-font text-white"><button onclick="showDiv(List_Customers[1])" class="button" type="button">View Data</button></span>
        <script>

            function verifyCus1(){
            insurance.VerifyPatient(List_Customers[1], {from :userAddressForSession, gas:997770});
              alert("Customer Verified");
              console.log("Customer Verified");
            }

                  </script>
    </div>
      </div>

      <hr style="height:2px;border-width:0;color:gray;background-color:white">

      <div class="py-8 flex border-t-2 border-gray-800 flex-wrap md:flex-nowrap" id="Customer2">
        <div class="md:flex-grow">
          <h2 class="text-2xl font-medium text-white title-font mb-2"><p style="color:white; font-size: 25px"; id="CusName2"></p></h2>
          <p style="color:white;" id="CusAdd2">
          <a class="text-indigo-400 inline-flex items-center mt-4">
            <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"></svg>
          </a>
        </div>
      <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col">
      <span class="font-semibold title-font text-white"><button onclick="verifyCus2()" class="button" type="submit" href="/">Verify</button>
      </span>
      <span class="font-semibold title-font text-white"><button onclick="showDiv(List_Customers[2])" class="button" type="button">View Data</button></span>
      <script>
        
        function verifyCus2(){
            insurance.VerifyPatient(List_Customers[2], {from :userAddressForSession, gas:997770});
              alert("Customer Verified");
              console.log("Customer Verified");
            }
      </script>
    </div>
    </div>

    <hr style="height:2px;border-width:0;color:gray;background-color:white">

      </div>
    </div>
  </div>

            <div id="CompanyProfile" class="container emp-profile">
                <form method="post">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="profile-img">
                                <img src="images/insurance.jpg" alt=""/>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="profile-head">
                                        <h5>
                                             
                                        </h5>
                                        
                                <ul class="nav nav-tabs" id="myTab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">About</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        
                    </div>
                    <div class="row">
    
                        <div class="col-md-8">
                            <div class="tab-content profile-tab" id="myTabContent">
                                <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                                            
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label>Insurance Company Name</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <p style="color:black;" id="company_name"></p>
                                                </div>
                                            </div>
                                            
                                            <div class="row">
                                              <div class="col-md-6">
                                                  <label>Registration ID</label>
                                              </div>
                                              <div class="col-md-6">
                                                  <p style="color:black;" id="regNoID"></p>
                                              </div>
                                          </div>
                                          
                                            <!--<div class="row">
                                              <div class="col-md-6">
                                                  <label>Policy ID</label>
                                              </div>
                                              <div class="col-md-6">
                                                  <p>Null</p>
                                              </div>
                                          </div>-->
                                      </div>
                                    </div>
                                </div>
                            </div>
                        </div>


<div id="VerifyHospitalDiv" class="text-gray-400 bg-gray-900 body-font overflow-hidden">
    <div class="container px-5 py-24 mx-auto">
      <div class="-my-8 divide-y-2 divide-gray-800">

        <div class="py-8 flex flex-wrap md:flex-nowrap" id="hospitalVerify0">
          <div class="md:flex-grow">
                <h2 class="text-2xl font-medium text-white title-font mb-2"><p style="color:white; font-size: 25px"; id="HospName0"></p></h2>
                <p style="color:white;" id="hospital0">
                <a class="text-indigo-400 inline-flex items-center mt-4">
                  <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"></svg>
                </a>
            </div>
            <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col" >
            <span class="font-semibold title-font text-white"><button onclick="verify0()" class="button" type="button">Verify</button>
            </span>
                 <script>
                          function verify0()
                          {
                              console.log("verify called");
                              insurance.verifyhospital(List_Hospitals[0], {from :userAddressForSession, gas:997770});
                              alert("Hospital Verified");
                              console.log("Hospital Verified");
                            }
                </script>
          </div>
        </div>

        <hr style="height:2px;border-width:0;color:gray;background-color:white">


        <div class="py-8 flex border-t-2 border-gray-800 flex-wrap md:flex-nowrap" id="hospitalVerify1">
          <div class="md:flex-grow">
            <h2 class="text-2xl font-medium text-white title-font mb-2"><p style="color:white; font-size: 25px"; id="HospName1"></p></h2>
            <p style="color:white;" id="hospital1">
            <a class="text-indigo-400 inline-flex items-center mt-4">
              <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"></svg>
            </a>
          </div>
        <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col">
        <span class="font-semibold title-font text-white"><button onclick="verify1()" class="button" type="submit" href="/">Verify</button></span>
          <script>

              function verify1(){
              insurance.verifyhospital(List_Hospitals[1], {from :userAddressForSession, gas:997770});
                alert("Hospital Verified");
                console.log("Hospital Verified");
              }

                    </script>
      </div>
        </div>

        <hr style="height:2px;border-width:0;color:gray;background-color:white">

        <div class="py-8 flex border-t-2 border-gray-800 flex-wrap md:flex-nowrap" id="hospitalVerify2">
          <div class="md:flex-grow">
            <h2 class="text-2xl font-medium text-white title-font mb-2"><p style="color:white; font-size: 25px"; id="HospName2"></p></h2>
            <p style="color:white;" id="hospital2">
            <a class="text-indigo-400 inline-flex items-center mt-4">
              <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"></svg>
            </a>
          </div>
        <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col">
        <span class="font-semibold title-font text-white"><button onclick="verify2()" class="button" type="submit" href="/">Verify</button>
        </span>
        <script>
          
          function verify2(){
              insurance.verifyhospital(List_Hospitals[2], {from :userAddressForSession, gas:997770});
                alert("Hospital Verified");
                console.log("Hospital Verified");
              }
        </script>
      </div>
      </div>

      <hr style="height:2px;border-width:0;color:gray;background-color:white">


      <div class="py-8 flex border-t-2 border-gray-800 flex-wrap md:flex-nowrap" id="hospitalVerify3">
        <div class="md:flex-grow">
          <h2 class="text-2xl font-medium text-white title-font mb-2"><p style="color:white; font-size: 25px"; id="HospName3"></p></h2>
          <p style="color:white;" id="hospital3">
          <a class="text-indigo-400 inline-flex items-center mt-4">
            <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"></svg>
          </a>
        </div>
      <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col">
      <span class="font-semibold title-font text-white"><button onclick="verify3()"  class="button" type="submit" href="/">Verify</button>
      </span>
      <script>
        function verify3(){
        insurance.verifyhospital(List_Hospitals[3], {from :userAddressForSession, gas:997770});
          alert("Hospital Verified");
          console.log("Hospital Verified");
        }</script>
    </div>
    </div>

    <hr style="height:2px;border-width:0;color:gray;background-color:white">

        </div>
      </div>
    </div>



  </div>

</div>

  <script>

      console.log(insurance);
      var userAddressForSession = localStorage.getItem("userAddress");
      console.log("Session Address : ",userAddressForSession);
      document.getElementById('addressid').innerHTML = userAddressForSession;
      var CompanyName= insurance.insuranceCompaniesmapping(userAddressForSession)[1];
      var RegNo = insurance.insuranceCompaniesmapping(userAddressForSession)[3];

      document.getElementById('addressid').innerHTML = userAddressForSession;
      document.getElementById('company_name').innerHTML = CompanyName;
      document.getElementById('regNoID').innerHTML=RegNo;

      var List_Hospitals=insurance.getRegisteredHospitals();
      var size_hosp=List_Hospitals.length;
     
      var List_Customers=insurance.getCustomerAddress()
      var size_Customers=List_Customers.length;

      function ListHospitals()
      {
          var List_Hospitals=insurance.getRegisteredHospitals();
          var size_hosp=List_Hospitals.length;
      }


      function CustomersList()
      {
          var List_Customers=insurance.getCustomerAddress();
          var size_Customers=List_Customers.length;
      }

      $(document).ready(function(){
                console.log("ready");
                $("#AddPolicyDiv").hide();
                $('#ClaimDisburseDiv').hide();
                $('#VerifyClaimDiv').hide();
                $('#CompanyProfile').show();
                $('#VerifyHospitalDiv').hide();
                $('#OuterDiv').hide();
                $('#VerifyCustomerDiv').hide();
                $('#show_data').hide();
                $('#show_specific_data').hide();

            });

            
        function showDiv(CustomerAdd) {
        
          var customerAddress= CustomerAdd;//document.getElementById("PatientAddress").value;
          console.log("customer address:",customerAddress);
          console.log(customerAddress);
          var name = insurance.customerData(customerAddress)[1];
          var policy= insurance.customerData(customerAddress)[4];
          var premiumPaidOrNot= insurance.customerData(customerAddress)[6];
          var claimID= insurance.customerData(customerAddress)[11];
          var BillID= insurance.customerData(customerAddress)[9];
          var claimsettled= insurance.customerData(customerAddress)[10];

          if(policy !=0)
          {
              var paidAmount= insurance.policiesAvailable(policy)[6];
              var sumInsured= insurance.policiesAvailable(policy)[7];
              var companyAddress=insurance.policiesAvailable(policy)[5];
              var companyName=insurance.policiesAvailable(policy)[4];

          }
          else
          {
              var paidAmount= "Null";
              var sumInsured= "Null";
              var companyAddress= "Null";
              var companyName= "Null";
          }

          if (claimID !=0)
          {
              var AmountReimbursed= insurance.claims(claimID)[7];
          }

          else{
              var AmountReimbursed= "Null";
          }

          if(BillID!=0)
          {
            var HospBillAmt=insurance.billmapping(BillID)[1];
            var HospAddress=insurance.billmapping(BillID)[3];
            var BillDes=insurance.billmapping(BillID)[4];
          }
          else{
            var HospBillAmt="Null";
            var HospAddress="Null";
            var BillDes="Null";
          
          }

          document.getElementById('customerAddressID').innerHTML=customerAddress;
          document.getElementById('customerAddressID2').innerHTML=customerAddress;

          document.getElementById('nameid').innerHTML = name;
          document.getElementById('nameid2').innerHTML = name;

          document.getElementById('policyid').innerHTML = policy;
          document.getElementById('policyid2').innerHTML = policy;
 
          document.getElementById('premiumPaidOrNotID').innerHTML = premiumPaidOrNot;
          document.getElementById('paidAmountID').innerHTML = paidAmount;
          document.getElementById('sumInsuredID').innerHTML = sumInsured;

          document.getElementById('companyAddressID').innerHTML = companyAddress;
          document.getElementById('companyAddressID2').innerHTML = companyAddress;

          document.getElementById('companyNameID').innerHTML = companyName;
          document.getElementById('companyNameID2').innerHTML = companyName;

          document.getElementById('claimid').innerHTML = claimID;
          document.getElementById('claimid2').innerHTML = claimID;

          document.getElementById('billid1').innerHTML = BillID;
          document.getElementById('billid2').innerHTML = BillID;

          document.getElementById('billHosp').innerHTML=HospBillAmt;

          document.getElementById('HospAdd').innerHTML=HospAddress;
          document.getElementById('HospAdd2').innerHTML=HospAddress;

          document.getElementById('BillDesID').innerHTML=BillDes;

          document.getElementById('claimSettledID').innerHTML = claimsettled;
          document.getElementById('claimSettledID2').innerHTML = claimsettled;

          document.getElementById('AmountReimbursedID').innerHTML = AmountReimbursed;

          console.log(companyAddress);
          console.log(userAddressForSession);
          var areEqual = userAddressForSession.toUpperCase() === companyAddress.toUpperCase();

          if(areEqual)
            document.getElementById('show_data').style.display = "block";
          else
            {
              console.log("Not company");
              document.getElementById('show_specific_data').style.display= "block";
            }

        }

      function DisburseClaimClick()
      {
                 $("#AddPolicyDiv").hide();
                $('#ClaimDisburseDiv').show();
                $('#VerifyClaimDiv').hide();
                $('#CompanyProfile').hide();
                $('#VerifyHospitalDiv').hide();
                $('#OuterDiv').hide();
                $('#VerifyCustomerDiv').hide();
                $('#show_data').hide();
                $('#show_specific_data').hide();

      }

      
      function CustomerDataClick()
      {
                 $("#AddPolicyDiv").hide();
                $('#ClaimDisburseDiv').hide();
                $('#VerifyClaimDiv').hide();
                $('#CompanyProfile').hide();
                $('#VerifyHospitalDiv').hide();
                $('#show_data').hide();
                $('#show_specific_data').hide();

                $('#VerifyCustomerDiv').hide();
                
                CustomersList();
                $('#OuterDiv').show();

      }

      function AddPolicyClick()
      {
                $('#ClaimDisburseDiv').hide();
                $('#VerifyClaimDiv').hide();
                $('#CompanyProfile').hide();
                $('#VerifyHospitalDiv').hide();
                $('#OuterDiv').hide();
                $('#VerifyCustomerDiv').hide();
                $('#show_data').hide();
                $('#show_specific_data').hide();

                $("#AddPolicyDiv").show();



      }

      function  VerifyClaimClick()
      {
                 $("#AddPolicyDiv").hide();
                $('#ClaimDisburseDiv').hide();
                $('#VerifyClaimDiv').show();
                $('#CompanyProfile').hide();
                $('#VerifyHospitalDiv').hide();
                $('#OuterDiv').hide();
                $('#VerifyCustomerDiv').hide();
                $('#show_data').hide();
                $('#show_specific_data').hide();

      }

      
      function  VerifyCustomerClick()
      {
                 $("#AddPolicyDiv").hide();
                $('#ClaimDisburseDiv').hide();
                $('#VerifyClaimDiv').hide();
                $('#CompanyProfile').hide();
                $('#VerifyHospitalDiv').hide();
                $('#OuterDiv').hide();
                $('#show_data').hide();
                $('#show_specific_data').hide();

                $('#VerifyCustomerDiv').show();
                visibilityFunctionCustomer();

      }

      function  ProfileClick()
      {
                 $("#AddPolicyDiv").hide();
                $('#ClaimDisburseDiv').hide();
                $('#VerifyClaimDiv').hide();
                $('#CompanyProfile').show();
                $('#VerifyHospitalDiv').hide();
                $('#OuterDiv').hide();
                $('#VerifyCustomerDiv').hide();
                $('#show_data').hide();
                $('#show_specific_data').hide();


      }

      
      function  VerifyHospitalClick()
      {
                 $("#AddPolicyDiv").hide();
                $('#ClaimDisburseDiv').hide();
                $('#VerifyClaimDiv').hide();
                $('#CompanyProfile').hide();
                $('#OuterDiv').hide();
                $('#VerifyCustomerDiv').hide();
                $('#show_data').hide();
                $('#show_specific_data').hide();


                ListHospitals();
                $('#VerifyHospitalDiv').show();

                visibilityFunction();
      }
      

      $("#addNewPolicy").click(function(){
			var policyName = document.getElementById("policyName").value;
			var policyID = document.getElementById("policyID").value;
			var ICName = document.getElementById("ICNo").value;
			var ICWalletAddress = document.getElementById("ICWalletAddress").value;
			var premiumToPay = document.getElementById("premiumToPay").value;
			var sumInsuredByPolicy = document.getElementById("sumInsuredByPolicy").value;
			console.log(policyName);	console.log(policyID);	console.log(ICName);
			console.log(ICWalletAddress);	console.log(premiumToPay);	console.log(sumInsuredByPolicy);

			insurance.addnewpolicy(policyName, policyID, ICName, ICWalletAddress, premiumToPay*1000000000000000000, sumInsuredByPolicy*1000000000000000000,{from : ICWalletAddress, gas : 323232});
      alert("Added new policy");
      console.log("Added new policy");

		});

        
      $("#verifyClaim").click(function(){
			var claimID = document.getElementById("claimIDVerify").value;
			console.log("ClaimID:",claimID);
      console.log("Session current:",userAddressForSession);
      var SettlementAmt= document.getElementById("settlementAmt").value;
      console.log("Settlement Amt:",SettlementAmt);
			insurance.verifyCLaim(claimID, SettlementAmt, {from: userAddressForSession, gas: 3000000});
			alert("Claim Verified!!!");
      console.log("Claim verified");
		});


        
      $("#claimDisbursement").click(function(){
            
            console.log("Session current:",userAddressForSession);
            
            var claimIDD = document.getElementById("claimIDDisburse").value;
            console.log(claimIDD);
            var settledAmt= insurance.claims(claimIDD)[7];
            console.log(settledAmt);
            var customerAddress=insurance.claims(claimIDD)[8];
            console.log(customerAddress);

            const weiValue = settledAmt * 1000000000000000000;//web3.utils.toWei(settledAmt, 'ether');
            console.log("Paying patient ethers : ",weiValue);

            web3.eth.sendTransaction({from: userAddressForSession, to: customerAddress, value: weiValue});
            insurance.DisburseClaimamount(claimIDD, {from: userAddressForSession, gas: 3000000});
			      alert("Claim Settled");
            console.log("Claim settled");
		});


      $("#logout").click(function(){
			localStorage.setItem("userAddress", null);
      alert("Logging out");
			window.location.href = "home.html";
		});
    
    function visibilityFunctionCustomer()
    {

      
      var List_Customers=insurance.getCustomerAddress();
          var size_Customers=List_Customers.length;

      if(size_Customers == 0)
        {
            console.log(size_Customers);
            document.getElementById("Customer0").style.visibility="hidden";
            document.getElementById("Customer1").style.visibility="hidden";
            document.getElementById("Customer2").style.visibility="hidden";
        }

      else if(size_Customers == 1)
        {
            console.log(size_Customers);
            document.getElementById("Customer0").style.visibility="visible";
            document.getElementById("Customer1").style.visibility="hidden";
            document.getElementById("Customer2").style.visibility="hidden";

            var Cus0=insurance.customerData(List_Customers[0])[1];
            document.getElementById('CusAdd0').innerHTML=List_Customers[0];
            document.getElementById('CusName0').innerHTML=Cus0;
        }

      else if(size_Customers==2)
      {
            document.getElementById("Customer0").style.visibility="visible";
            document.getElementById("Customer1").style.visibility="visible";
            document.getElementById("Customer2").style.visibility="hidden";

            var Cus0=insurance.customerData(List_Customers[0])[1];
            document.getElementById('CusAdd0').innerHTML=List_Customers[0];
            document.getElementById('CusName0').innerHTML=Cus0;
            var Cus1=insurance.customerData(List_Customers[1])[1];
            document.getElementById('CusAdd1').innerHTML=List_Customers[1];
            document.getElementById('CusName1').innerHTML=Cus1;

      }

      else if (size_Customers==3)
      {
            document.getElementById("Customer0").style.visibility="visible";
            document.getElementById("Customer1").style.visibility="visible";
            document.getElementById("Customer2").style.visibility="visible";

            var Cus0=insurance.customerData(List_Customers[0])[1];
            document.getElementById('CusAdd0').innerHTML=List_Customers[0];
            document.getElementById('CusName0').innerHTML=Cus0;
            var Cus1=insurance.customerData(List_Customers[1])[1];
            document.getElementById('CusAdd1').innerHTML=List_Customers[1];
            document.getElementById('CusName1').innerHTML=Cus1;
            var Cus2=insurance.customerData(List_Customers[2])[1];
            document.getElementById('CusAdd2').innerHTML=List_Customers[2];
            document.getElementById('CusName2').innerHTML=Cus2;
         }

      else
      {
            document.getElementById("Customer0").style.visibility="visible";
            document.getElementById("Customer1").style.visibility="visible";
            document.getElementById("Customer2").style.visibility="visible";

            var Cus0=insurance.customerData(List_Customers[0])[1];
            document.getElementById('CusAdd0').innerHTML=List_Customers[0];
            document.getElementById('CusName0').innerHTML=Cus0;
            var Cus1=insurance.customerData(List_Customers[1])[1];
            document.getElementById('CusAdd1').innerHTML=List_Customers[1];
            document.getElementById('CusName1').innerHTML=Cus1;
            var Cus2=insurance.customerData(List_Customers[2])[1];
            document.getElementById('CusAdd2').innerHTML=List_Customers[2];
            document.getElementById('CusName2').innerHTML=Cus2;

      }

    }

        function visibilityFunction()
    {

          var List_Hospitals=insurance.getRegisteredHospitals();
          var size_hosp=List_Hospitals.length;

      if(size_hosp == 0)
        {
          console.log(size_hosp);
            document.getElementById("hospitalVerify0").style.visibility="hidden";
            document.getElementById("hospitalVerify1").style.visibility="hidden";
            document.getElementById("hospitalVerify2").style.visibility="hidden";
            document.getElementById("hospitalVerify3").style.visibility="hidden";

        }

      
      else if(size_hosp == 1)
        {
          console.log(size_hosp);
            document.getElementById("hospitalVerify0").style.visibility="visible";
            document.getElementById("hospitalVerify1").style.visibility="hidden";
            document.getElementById("hospitalVerify2").style.visibility="hidden";
            document.getElementById("hospitalVerify3").style.visibility="hidden";

            var Hosp0=insurance.hospitalmapping(List_Hospitals[0])[1];
            document.getElementById('hospital0').innerHTML=List_Hospitals[0];
            document.getElementById('HospName0').innerHTML=Hosp0;
        }

      else if(size_hosp==2)
      {
            document.getElementById("hospitalVerify0").style.visibility="visible";
            document.getElementById("hospitalVerify1").style.visibility="visible";
            document.getElementById("hospitalVerify2").style.visibility="hidden";
            document.getElementById("hospitalVerify3").style.visibility="hidden";

            var Hosp0=insurance.hospitalmapping(List_Hospitals[0])[1];
            document.getElementById('hospital0').innerHTML=List_Hospitals[0];
            document.getElementById('HospName0').innerHTML=Hosp0;
            var Hosp1=insurance.hospitalmapping(List_Hospitals[1])[1];
            document.getElementById('hospital1').innerHTML=List_Hospitals[1];
            document.getElementById('HospName1').innerHTML=Hosp1;

      }

      else if (size_hosp==3)
      {
            document.getElementById("hospitalVerify0").style.visibility="visible";
            document.getElementById("hospitalVerify1").style.visibility="visible";
            document.getElementById("hospitalVerify2").style.visibility="visible";
            document.getElementById("hospitalVerify3").style.visibility="hidden";

            var Hosp0=insurance.hospitalmapping(List_Hospitals[0])[1];
            document.getElementById('hospital0').innerHTML=List_Hospitals[0];
            document.getElementById('HospName0').innerHTML=Hosp0;
            var Hosp1=insurance.hospitalmapping(List_Hospitals[1])[1];
            document.getElementById('hospital1').innerHTML=List_Hospitals[1];
            document.getElementById('HospName1').innerHTML=Hosp1;
            var Hosp2=insurance.hospitalmapping(List_Hospitals[2])[1];
            document.getElementById('hospital2').innerHTML=List_Hospitals[2];
            document.getElementById('HospName2').innerHTML=Hosp2;
         }

      else
      {
            document.getElementById("hospitalVerify0").style.visibility="visible";
            document.getElementById("hospitalVerify1").style.visibility="visible";
            document.getElementById("hospitalVerify2").style.visibility="visible";
            document.getElementById("hospitalVerify3").style.visibility="visible";

            var Hosp0=insurance.hospitalmapping(List_Hospitals[0])[1];
            document.getElementById('hospital0').innerHTML=List_Hospitals[0];
            document.getElementById('HospName0').innerHTML=Hosp0;
            var Hosp1=insurance.hospitalmapping(List_Hospitals[1])[1];
            document.getElementById('hospital1').innerHTML=List_Hospitals[1];
            document.getElementById('HospName1').innerHTML=Hosp1;
            var Hosp2=insurance.hospitalmapping(List_Hospitals[2])[1];
            document.getElementById('hospital2').innerHTML=List_Hospitals[2];
            document.getElementById('HospName2').innerHTML=Hosp2;
            var Hosp3=insurance.hospitalmapping(List_Hospitals[3])[1];
            document.getElementById('hospital3').innerHTML=List_Hospitals[3];
            document.getElementById('HospName3').innerHTML=Hosp3;

      }

    }

    

  </script>

    <style>
      * {
      box-sizing: border-box;
      }
      html, body {
      min-height: 100vh;
      padding: 0;
      margin: 0;
      font-family: Roboto, Arial, sans-serif;
      font-size: 14px; 
      color: #666;
      }
      input, textarea { 
      outline: none;
      }
      body {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 0px;
      background: #111827;
      }
      h1 {
      margin-top: 0;
      font-weight: 500;
      }
      form {
      position: relative;
      width: 80%;
      border-radius: 30px;
      background: #fff;
      }
      .form-left-decoration,
      .form-right-decoration {
      content: "";
      position: absolute;
      width: 50px;
      height: 20px;
      border-radius: 20px;
      background: #111827;
      }
      .form-left-decoration {
      bottom: 60px;
      left: -30px;
      }
      .form-right-decoration {
      top: 60px;
      right: -30px;
      }
      .form-left-decoration:before,
      .form-left-decoration:after,
      .form-right-decoration:before,
      .form-right-decoration:after {
      content: "";
      position: absolute;
      width: 50px;
      height: 20px;
      border-radius: 30px;
      background: #fff;
      }
      .form-left-decoration:before {
      top: -20px;
      }

      .centeralign{
          top:0px;
          left: 160px;
          position: relative;
      }
      .form-left-decoration:after {
      top: 20px;
      left: 10px;
      }
      .form-right-decoration:before {
      top: -20px;
      right: 0;
      }
      .form-right-decoration:after {
      top: 20px;
      right: 10px;
      }
      .circle {
      position: absolute;
      bottom: 80px;
      left: -55px;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #fff;
      }
      .form-inner {
      padding: 40px;
      }
      .form-inner input,
      .form-inner textarea {
      display: block;
      width: 100%;
      padding: 15px;
      margin-bottom: 10px;
      border: none;
      border-radius: 20px;
      background: #d0dfe8;
      }
      .form-inner textarea {
      resize: none;
      }
      button {
      width: 100%;
      padding: 10px;
      margin-top: 20px;
      border-radius: 20px;
      border: none;
      border-bottom: 4px solid #111827;
      background: #111827; 
      font-size: 16px;
      font-weight: 400;
      color: #fff;
      }
      button:hover {
      background: #007bff;
      } 
      @media (min-width: 568px) {
      form {
      width: 60%;
      }
      }
    </style>

    </body>
    </html>